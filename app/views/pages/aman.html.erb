<h1><%="#{Course.find(params[:course_id]).subject}
        #{Course.find(params[:course_id]).number}:
       Section #{Course.find(params[:course_id]).course_id}" %>
</h1>
<h1>Projects</h1>
<div class="container">
  <%- if Project.where(course_id: @current_course).count != 0 %>
    <table id="data-table" class="table table-striped table-bordered" style="width: 800px;">
      <thead>
        <th>Project Name</th>
        <th>Mean Score</th>
        <th>Action</th>
      </thead>
      <tbody>
      <% Project.where(course_id: @current_course).each do |p| %>
        <tr>
          <td><%= p.pname %></td>
          <td></td>
          <td><%= link_to "Select", pshow_path(:id => p.id), {:remote => true, 'data-toggle' =>  "modal", 'data-target' => '#modal-window'} %>
          /<%= link_to "Delete", p, method: :delete %>/<%= link_to "Send Evaluation", send_eval_path(:id => p.id), :remote => true %></td>
        </tr>
      <% end %>
      </tbody>
    </table>
  <% else %>
    <h3><%= "No projects assigned." %></h3>
  <% end %>
</div>
<%= link_to 'New Project', new_project_path(:course_id => @current_course), {:remote => true, 'data-toggle' =>  "modal", 'data-target' => '#modal-window'}  %>
<h1>Groups</h1>
<div class="container">
  <%- if Group.where(course_id: @current_course).count != 0 %>
    <table id="data-table" class="table table-striped table-bordered" style="width: 800px;">
      <thead>
        <th>Group Name</th>
        <th># of Members</th>
        <th>Modify</th>
      </thead>
      <tbody>
        <% Group.where(course_id: @current_course).each do |g| %>
          <tr>
            <td><%= g.group_name %></td>
            <td><%= Ingroup.where(group_id: g.id).count %></td>
            <td><%= link_to 'Select', gman_path(:group_id => g.id, :course_id => @current_course) %>/<%= link_to "Delete", g, method: :delete %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <h3><%= "No groups for section." %></h3>
  <% end %>
</div>
<%= link_to 'New Group', new_group_path(:course_id => params[:course_id]), {:remote => true, 'data-toggle' =>  "modal", 'data-target' => '#modal-window'}  %>
<h1>Users</h1>
<div class="container">
  <%- if Incourse.where(course_id: @current_course).count != 0 %>
    <table id="data-table" class="table table-striped table-bordered" style="width: 800px;">
      <thead>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>Mean Score</th>
        <th>Action</th>
      </thead>
      <tbody>
        <% Incourse.where(course_id: @current_course).each do |c| %>
          <tr>
            <td><%=c.user.Fname%></td>
            <td><%=c.user.Lname%></td>
            <td><%=c.user.email%></td>
            <td>N/A</td>
            <td><%= link_to "Select", arep_path(:user_id => c.user_id, :course_id => params[:course_id]), {:remote => true, 'data-toggle' =>  "modal", 'data-target' => '#modal-window'} %>
          /<%= link_to "Delete", c, method: :delete %></td>
          </tr>
      <% end %>
      </tbody>
    </table>
  <% else %>
    <h3><%= "No students enrolled." %></h3>
  <% end %>
</div>
<%= link_to 'Add User', new_incourse_path(:course_id => params[:course_id]), {:remote => true, 'data-toggle' =>  "modal", 'data-target' => '#modal-window'}  %>

